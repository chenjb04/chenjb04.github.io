[{"content":" 在shell脚本中比较版本号大小是一种常见的任务，尤其是在漏洞检测中，对比版本号，判断漏洞是否存在。版本号通常由主版本号、次版本号和补丁号组成，格式可能是major.minor.patch。有时，版本号可能还包括预发布标签（如alpha或beta）或构建元数据。\n以下是一个示例shell脚本，用于比较两个版本号的大小：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 #!/bin/bash # 比较两个版本号的函数 compare_versions() { local version1=$1 local version2=$2 # 将版本号分割成数组 IFS=\u0026#39;.\u0026#39; read -r -a ver1 \u0026lt;\u0026lt;\u0026lt; \u0026#34;$version1\u0026#34; IFS=\u0026#39;.\u0026#39; read -r -a ver2 \u0026lt;\u0026lt;\u0026lt; \u0026#34;$version2\u0026#34; # 获取最大数组长度 local max_len=${#ver1[@]} if [ ${#ver2[@]} -gt $max_len ]; then max_len=${#ver2[@]} fi # 比较每一部分 for ((i=0; i\u0026lt;max_len; i++)); do # 如果某个版本号部分不存在，则视为0 local part1=${ver1[i]:-0} local part2=${ver2[i]:-0} if ((part1 \u0026gt; part2)); then return 1 elif ((part1 \u0026lt; part2)); then return 2 fi done return 0 } # 示例版本号 version1=\u0026#34;1.2.3\u0026#34; version2=\u0026#34;1.2.4\u0026#34; # 调用比较函数 compare_versions \u0026#34;$version1\u0026#34; \u0026#34;$version2\u0026#34; result=$? # 输出比较结果 if [ $result -eq 0 ]; then echo \u0026#34;版本号 $version1 等于 $version2\u0026#34; elif [ $result -eq 1 ]; then echo \u0026#34;版本号 $version1 大于 $version2\u0026#34; else echo \u0026#34;版本号 $version1 小于 $version2\u0026#34; fi 返回结果：\n返回 0 表示两个版本号相等。 返回 1 表示第一个版本号大于第二个版本号。 返回 2 表示第一个版本号小于第二个版本号。 ","date":"2024-08-28T17:11:01+08:00","permalink":"http://localhost:1313/p/shell-compare-version/","title":"shell比较版本号大小"},{"content":" 背景\r解决无网络环境下安装python包的问题 解决跨架构下安装python包，如x86环境下载arm架构下的pip包 解决方案\r在线下载包及其依赖\r通过 `PyPI官网 下载所需的包。这种方式对于没有依赖或依赖较少的包较为方便。但对于依赖众多的包，需要逐个下载，过程较为繁琐。\n使用pip下载\r准备联网环境\n首先确保有一个可以访问互联网的环境,最好是相同python版本和架构\n下载包及其依赖：\n使用以下命令下载所需的单个包和它的所有依赖： 1 pip3 download -d pip-package -i https://pypi.tuna.tsinghua.edu.cn/simple requests 其中，-d 参数指定下载目录。 -i 参数指定使用清华镜像源以加速下载。 跨架构安装：\n对于需要在不同架构之间安装包的情况，首先在目标架构的环境下使用上述方法下载包。 然后将下载好的包复制到目标环境中进行安装。 注意事项\r确保下载的包与系统中Python的版本和架构相兼容。 如果遇到下载速度慢或失败的问题，可以尝试更换其他镜像源，如阿里云、中国科技大学等提供的镜像源。 在使用pip下载包时，注意检查网络连接，以免下载中断导致安装失败。 ","date":"2024-08-26T17:29:34+08:00","permalink":"http://localhost:1313/p/pip-offline-package/","title":"pip制作离线包"},{"content":" docker启动所有已经停止的容器\r1 docker start $(docker ps -a | awk \u0026#39;{ print $1}\u0026#39; | tail -n +2) docker删除正在运行的单个容器\r1 docker rm -f \u0026lt;container_id\u0026gt; docker删除正在运行的所有容器\r1 docker rm -f $(docker ps -q) ","date":"2024-08-22T17:14:23+08:00","permalink":"http://localhost:1313/p/docker-command/","title":"Docker命令大全"},{"content":" 卸载旧版本docker\r1 2 3 4 5 6 7 8 yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine 安装依赖\r1 yum install -y yum-utils 配置yum docker源\r1 2 3 yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.repo 安装docker\r1 yum install docker-ce docker-ce-cli containerd.io 启动docker\r1 systemctl start docker ","date":"2024-08-22T16:40:12+08:00","permalink":"http://localhost:1313/p/centos-install-docker/","title":"Centos7安装docker"}]